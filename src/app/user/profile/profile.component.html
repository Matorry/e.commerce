<mat-card>
  <mat-card-header>
    <mat-card-title>Your Profile</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="profileForm" (ngSubmit)="saveChanges()">
      <mat-form-field>
        <mat-label>First Name:</mat-label>
        <input matInput formControlName="firstName" placeholder="First Name">
      </mat-form-field>
      <mat-icon (click)="toggleField('firstName')">{{ profileForm.get('firstName')?.disabled ? 'edit' : 'done'
        }}</mat-icon>

      <mat-form-field>
        <mat-label>Last Name:</mat-label>
        <input matInput formControlName="lastName" placeholder="Last Name">
      </mat-form-field>
      <mat-icon (click)="toggleField('lastName')">{{ profileForm.get('lastName')?.disabled ? 'edit' : 'done'
        }}</mat-icon>

      <mat-form-field>
        <mat-label>Email:</mat-label>
        <input matInput formControlName="email" placeholder="Email">
      </mat-form-field>
      <mat-icon (click)="toggleField('email')">{{ profileForm.get('email')?.disabled ? 'edit' : 'done' }}</mat-icon>

      <mat-form-field>
        <mat-label>Street Address:</mat-label>
        <input matInput formControlName="addressStreet" placeholder="Street Address">
      </mat-form-field>
      <mat-icon (click)="toggleField('addressStreet')">{{ profileForm.get('addressStreet')?.disabled ? 'edit' : 'done'
        }}</mat-icon>

      <mat-form-field>
        <mat-label>Postal Code:</mat-label>
        <input matInput formControlName="postalCode" placeholder="Postal Code">
      </mat-form-field>
      <mat-icon (click)="toggleField('postalCode')">{{ profileForm.get('postalCode')?.disabled ? 'edit' : 'done'
        }}</mat-icon>

      <mat-form-field>
        <mat-label>City:</mat-label>
        <input matInput formControlName="city" placeholder="City">
      </mat-form-field>
      <mat-icon (click)="toggleField('city')">{{ profileForm.get('city')?.disabled ? 'edit' : 'done' }}</mat-icon>

      <div class="button-container">
        <button mat-raised-button color="basic" type="submit">Save Changes</button>
      </div>
    </form>
    <e-commerce-purchase-history [purchaseHistory]="user.user.purchaseHistory"></e-commerce-purchase-history>
    <div class="button-container">
      <button mat-raised-button color="warn" (click)="deleteAccount()">Delete Account</button>
    </div>
  </mat-card-content>
</mat-card>
